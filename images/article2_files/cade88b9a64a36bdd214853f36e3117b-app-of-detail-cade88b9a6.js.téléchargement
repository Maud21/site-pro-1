"use strict";!function(){var l=setInterval(function(){if(void 0!==window.of){clearTimeout(l);var e,s,a,t,o,m=window.of.$;e=0,s=document.getElementsByTagName("body")[0],m(function(){m(window).scroll(function(t){var o=window.pageYOffset||document.documentElement.scrollTop;e<o?(s.classList.add("scrolling-down"),s.classList.remove("scrolling-up")):(s.classList.add("scrolling-up"),s.classList.remove("scrolling-down")),e=o})}),m(function(){var f,u,p=200,g=20,t=document.documentElement,d=(Date.now(),function(){if(!(document.documentElement.clientWidth<1280)){var l=0;if(m(".bottom-menu.su-fixed, .barre-infos.su-fixed").each(function(){l+=m(this).outerHeight()}),!((t.clientHeight||0)-l<=p)){var c=m("aside.a-lire-aussi:not(.hidden-lg)"),r=(window.pageYOffset||t.scrollTop)+l+g,f=(window.pageYOffset||t.scrollTop,t.clientHeight,"scrolling"),d="scrolling-end";m.each(c,function(t){var o=m(this),e=o.offset().top,s=e+p,a=u,i=o.hasClass(f),n=o.hasClass(d);!i&&e<r&&s<a&&(o.data("old_pos",e),o.data("old_top",o.css("top")),o.css("top",l+g),o.addClass(f),s=o.offset().top+p,i=!0),i&&!n&&(a<=s||c[t+1]&&m(c[t+1]).offset().top-g<s)&&(o.addClass(d),o.css("top",a<=s?a-p-of.$(".contenu-principal").offset().top:parseInt(m(c[t+1]).css("top").slice(0,-2))-g-p),e=o.offset().top,n=!0),i&&n&&r<=e&&(o.removeClass(d),n=!1,o.css("top",l+g)),i&&!n&&r<=o.data("old_pos")&&(o.removeClass(f),i=!1,o.css("top",o.data("old_top")))})}}});function h(){if(!(document.documentElement.clientWidth<1280)){m(window).off("resize.aside",h);var t=m("aside.a-lire-aussi"),o=(t.length,of.$(".contenu-principal")),e=of.$(".contenu-principal > p:last-of-type()"),s=of.$(".contenu-secondaire > :last-child()"),a=s.offset().top+s.outerHeight();s.is(":visible")||(a=9999),f=a-o.offset().top;var i=(u=e.offset().top)-a;i<0&&(i=0);var n=Math.floor(i/p);n<t.length&&t.slice(n).addClass("hidden-lg");var l=(t=t.slice(0,n)).length,c=t.length-1,r=p+(i-l*p)/c;0==c?t.css("top",f+(i-l*p)/2):1==c?(m(t[0]).css("top",f+(i-l*p)/3),m(t[1]).css("top",f+(i-l*p)/3*2+p)):m.each(t,function(t){m(this).css("top",f+t*r)}),m("body").on("touchmove",d),m(window).scroll(d)}}h(),m(window).on("resize.aside",h)}),m(function(){navigator.share&&of.head.$doc.on("click","[data-ofshare-mobile]",function(t){t.preventDefault(),t.stopPropagation();var o=m(this).data("ofshare-mobile");navigator.share({title:o.title||"Article Ouest-France",text:o.text||"",url:o.url||""})})}),a="ofagrandir",(t=m("html")).hasClass("ofready")?i():t.on("ofready",i),(o=m("html")).hasClass("ofready")?n():o.on("ofready",n)}function i(){var e=!!localStorage.getItem(a);document.querySelectorAll("[data-"+a+"]").forEach(function(t){var o=m(t).on("click."+a,function(){e?localStorage.removeItem(a):localStorage.setItem(a,!0)});e&&o.trigger("click.oftoggleclass")})}function n(){var t=m(".contenu-secondaire .reseaux-sociaux-list").parent(),o=m("#article-detail").find(".liste-tags");if(o.length&&t.length)t.offset().top>o.offset().top+o.height()&&t.toggleClass("su-visible-xl su-hidden");else{var e=m("#article-detail");t.offset().top>e.offset().top+e.height()&&t.toggleClass("su-visible-xl su-hidden")}}},25)}();