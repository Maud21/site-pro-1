"use strict";!function(Me){var d=setInterval(function(){if(Me!==window.of){clearTimeout(d);var e,t,n,o,s,r,i,a,l,c,g,u,y=window.of.$;e=y,t=function(re){var le="left",ce="right",ue="up",de="down",fe="in",pe="out",he="none",ge="auto",me="swipe",ve="pinch",we="tap",be="doubletap",ye="longtap",xe="horizontal",Se="vertical",Te="all",Le="start",Ae="move",Ee="end",Ce="cancel",Oe="ontouchstart"in window,ke=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Oe,Ie=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Oe,_e="TouchSwipe";function o(e,g){g=re.extend({},g);var t=Oe||Ie||!g.fallbackToMouseEvents,n=t?Ie?ke?"MSPointerDown":"pointerdown":"touchstart":"mousedown",o=t?Ie?ke?"MSPointerMove":"pointermove":"touchmove":"mousemove",i=t?Ie?ke?"MSPointerUp":"pointerup":"touchend":"mouseup",s=t?Ie?"mouseleave":null:"mouseleave",a=Ie?ke?"MSPointerCancel":"pointercancel":"touchcancel",m=0,v=null,w=null,b=0,y=0,x=0,S=1,T=0,L=0,A=null,r=re(e),E="start",C=0,O={},l=0,k=0,c=0,u=0,d=0,f=null,I=null;try{r.bind(n,p),r.bind(a,M)}catch(e){re.error("events not supported "+n+","+a+" on jQuery.swipe")}function p(e){if(!0!==r.data(_e+"_intouch")&&!(0<re(e.target).closest(g.excludedElements,r).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=g.fallbackToMouseEvents){var n,o=t.touches,i=o?o[0]:t;return E=Le,o?C=o.length:!1!==g.preventDefaultEvents&&e.preventDefault(),L=w=v=null,S=1,T=x=y=b=m=0,(s={})[le]=ne(le),s[ce]=ne(ce),s.up=ne(ue),s[de]=ne(de),A=s,Y(),G(0,i),!o||C===g.fingers||g.fingers===Te||V()?(l=ae(),2==C&&(G(1,o[1]),y=x=ie(O[0].start,O[1].start)),(g.swipeStatus||g.pinchStatus)&&(n=H(t,E))):n=!1,!1===n?(H(t,E=Ce),n):(g.hold&&(I=setTimeout(re.proxy(function(){r.trigger("hold",[t.target]),g.hold&&(n=g.hold.call(r,t,t.target))},this),g.longTapThreshold)),X(!0),null)}}var s}function h(e){var t,n,o,i,s,a,r,l,c=e.originalEvent?e.originalEvent:e;if(E!==Ee&&E!==Ce&&!Z()){var u,d=c.touches,f=ee(d?d[0]:c);if(k=ae(),d&&(C=d.length),g.hold&&clearTimeout(I),E=Ae,2==C&&(0==y?(G(1,d[1]),y=x=ie(O[0].start,O[1].start)):(ee(d[1]),x=ie(O[0].end,O[1].end),O[0].end,O[1].end,L=S<1?pe:fe),S=(x/y*1).toFixed(2),T=Math.abs(y-x)),C===g.fingers||g.fingers===Te||!d||V()){if(v=se(f.start,f.end),function(e,t){if(!1!==g.preventDefaultEvents)if(g.allowPageScroll===he)e.preventDefault();else{var n=g.allowPageScroll===ge;switch(t){case le:(g.swipeLeft&&n||!n&&g.allowPageScroll!=xe)&&e.preventDefault();break;case ce:(g.swipeRight&&n||!n&&g.allowPageScroll!=xe)&&e.preventDefault();break;case ue:(g.swipeUp&&n||!n&&g.allowPageScroll!=Se)&&e.preventDefault();break;case de:(g.swipeDown&&n||!n&&g.allowPageScroll!=Se)&&e.preventDefault()}}}(e,w=se(f.last,f.end)),r=f.start,l=f.end,m=Math.round(Math.sqrt(Math.pow(l.x-r.x,2)+Math.pow(l.y-r.y,2))),b=oe(),a=m,(s=v)!=he&&(a=Math.max(a,te(s)),A[s].distance=a),u=H(c,E),!g.triggerOnTouchEnd||g.triggerOnTouchLeave){var p=!0;if(g.triggerOnTouchLeave){var h={left:(i=(o=re(o=this)).offset()).left,right:i.left+o.outerWidth(),top:i.top,bottom:i.top+o.outerHeight()};t=f.end,n=h,p=t.x>n.left&&t.x<n.right&&t.y>n.top&&t.y<n.bottom}!g.triggerOnTouchEnd&&p?E=P(Ae):g.triggerOnTouchLeave&&!p&&(E=P(Ee)),E!=Ce&&E!=Ee||H(c,E)}}else H(c,E=Ce);!1===u&&H(c,E=Ce)}}function _(e){var t,n=e.originalEvent?e.originalEvent:e,o=n.touches;if(o){if(o.length&&!Z())return t=n,c=ae(),u=t.touches.length+1,!0;if(o.length&&Z())return!0}return Z()&&(C=u),k=ae(),b=oe(),D()||!j()?H(n,E=Ce):g.triggerOnTouchEnd||!1===g.triggerOnTouchEnd&&E===Ae?(!1!==g.preventDefaultEvents&&e.preventDefault(),H(n,E=Ee)):!g.triggerOnTouchEnd&&W()?R(n,E=Ee,we):E===Ae&&H(n,E=Ce),X(!1),null}function M(){x=y=l=k=C=0,S=1,Y(),X(!1)}function q(e){var t=e.originalEvent?e.originalEvent:e;g.triggerOnTouchLeave&&H(t,E=P(Ee))}function N(){r.unbind(n,p),r.unbind(a,M),r.unbind(o,h),r.unbind(i,_),s&&r.unbind(s,q),X(!1)}function P(e){var t=e,n=F(),o=j(),i=D();return!n||i?t=Ce:!o||e!=Ae||g.triggerOnTouchEnd&&!g.triggerOnTouchLeave?!o&&e==Ee&&g.triggerOnTouchLeave&&(t=Ce):t=Ee,t}function H(e,t){var n,o=e.touches;return(J()&&U()||U())&&(n=R(e,t,me)),(B()&&V()||V())&&!1!==n&&(n=R(e,t,ve)),K()&&Q()&&!1!==n?n=R(e,t,be):b>g.longTapThreshold&&m<10&&g.longTap&&!1!==n?n=R(e,t,ye):1!==C&&Oe||!(isNaN(m)||m<g.threshold)||!W()||!1===n||(n=R(e,t,we)),t===Ce&&M(),t===Ee&&(o&&o.length||M()),n}function R(e,t,n){var o;if(n==me){if(r.trigger("swipeStatus",[t,v||null,m||0,b||0,C,O,w]),g.swipeStatus&&!1===(o=g.swipeStatus.call(r,e,t,v||null,m||0,b||0,C,O,w)))return!1;if(t==Ee&&J()){if(clearTimeout(f),clearTimeout(I),r.trigger("swipe",[v,m,b,C,O,w]),g.swipe&&!1===(o=g.swipe.call(r,e,v,m,b,C,O,w)))return!1;switch(v){case le:r.trigger("swipeLeft",[v,m,b,C,O,w]),g.swipeLeft&&(o=g.swipeLeft.call(r,e,v,m,b,C,O,w));break;case ce:r.trigger("swipeRight",[v,m,b,C,O,w]),g.swipeRight&&(o=g.swipeRight.call(r,e,v,m,b,C,O,w));break;case ue:r.trigger("swipeUp",[v,m,b,C,O,w]),g.swipeUp&&(o=g.swipeUp.call(r,e,v,m,b,C,O,w));break;case de:r.trigger("swipeDown",[v,m,b,C,O,w]),g.swipeDown&&(o=g.swipeDown.call(r,e,v,m,b,C,O,w))}}}if(n==ve){if(r.trigger("pinchStatus",[t,L||null,T||0,b||0,C,S,O]),g.pinchStatus&&!1===(o=g.pinchStatus.call(r,e,t,L||null,T||0,b||0,C,S,O)))return!1;if(t==Ee&&B())switch(L){case fe:r.trigger("pinchIn",[L||null,T||0,b||0,C,S,O]),g.pinchIn&&(o=g.pinchIn.call(r,e,L||null,T||0,b||0,C,S,O));break;case pe:r.trigger("pinchOut",[L||null,T||0,b||0,C,S,O]),g.pinchOut&&(o=g.pinchOut.call(r,e,L||null,T||0,b||0,C,S,O))}}return n==we?t!==Ce&&t!==Ee||(clearTimeout(f),clearTimeout(I),Q()&&!K()?(d=ae(),f=setTimeout(re.proxy(function(){d=null,r.trigger("tap",[e.target]),g.tap&&(o=g.tap.call(r,e,e.target))},this),g.doubleTapThreshold)):(d=null,r.trigger("tap",[e.target]),g.tap&&(o=g.tap.call(r,e,e.target)))):n==be?t!==Ce&&t!==Ee||(clearTimeout(f),clearTimeout(I),d=null,r.trigger("doubletap",[e.target]),g.doubleTap&&(o=g.doubleTap.call(r,e,e.target))):n==ye&&(t!==Ce&&t!==Ee||(clearTimeout(f),d=null,r.trigger("longtap",[e.target]),g.longTap&&(o=g.longTap.call(r,e,e.target)))),o}function j(){var e=!0;return null!==g.threshold&&(e=m>=g.threshold),e}function D(){var e=!1;return null!==g.cancelThreshold&&null!==v&&(e=te(v)-m>=g.cancelThreshold),e}function F(){return!(g.maxTimeThreshold&&b>=g.maxTimeThreshold)}function B(){var e=$(),t=z(),n=null===g.pinchThreshold||T>=g.pinchThreshold;return e&&t&&n}function V(){return!!(g.pinchStatus||g.pinchIn||g.pinchOut)}function J(){var e=F(),t=j(),n=$(),o=z();return!D()&&o&&n&&t&&e}function U(){return!!(g.swipe||g.swipeStatus||g.swipeLeft||g.swipeRight||g.swipeUp||g.swipeDown)}function $(){return C===g.fingers||g.fingers===Te||!Oe}function z(){return 0!==O[0].end.x}function W(){return!!g.tap}function Q(){return!!g.doubleTap}function K(){if(null==d)return!1;var e=ae();return Q()&&e-d<=g.doubleTapThreshold}function Y(){u=c=0}function Z(){var e=!1;return c&&ae()-c<=g.fingerReleaseThreshold&&(e=!0),e}function X(e){r&&(!0===e?(r.bind(o,h),r.bind(i,_),s&&r.bind(s,q)):(r.unbind(o,h,!1),r.unbind(i,_,!1),s&&r.unbind(s,q,!1)),r.data(_e+"_intouch",!0===e))}function G(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,O[e]=n}function ee(e){var t=e.identifier!==Me?e.identifier:0,n=O[t]||null;return null===n&&(n=G(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function te(e){return A[e]?A[e].distance:Me}function ne(e){return{direction:e,distance:0}}function oe(){return k-l}function ie(e,t){var n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+o*o))}function se(e,t){if(o=t,(n=e).x==o.x&&n.y==o.y)return he;var n,o,i,s,a,r,l,c,u=(s=t,a=(i=e).x-s.x,r=s.y-i.y,l=Math.atan2(r,a),(c=Math.round(180*l/Math.PI))<0&&(c=360-Math.abs(c)),c);return u<=45&&0<=u?le:u<=360&&315<=u?le:135<=u&&u<=225?ce:45<u&&u<135?de:ue}function ae(){return(new Date).getTime()}this.enable=function(){return this.disable(),r.bind(n,p),r.bind(a,M),r},this.disable=function(){return N(),r},this.destroy=function(){N(),r.data(_e,null),r=null},this.option=function(e,t){if("object"==typeof e)g=re.extend(g,e);else if(g[e]!==Me){if(t===Me)return g[e];g[e]=t}else{if(!e)return g;re.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}re.fn.swipe=function(e){var t=re(this),n=t.data(_e);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));re.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof e)n.option.apply(n,arguments);else if(!(n||"object"!=typeof e&&e))return function(n){return!n||n.allowPageScroll!==Me||n.swipe===Me&&n.swipeStatus===Me||(n.allowPageScroll=he),n.click!==Me&&n.tap===Me&&(n.tap=n.click),n=n||{},n=re.extend({},re.fn.swipe.defaults,n),this.each(function(){var e=re(this),t=e.data(_e);t||(t=new o(this,n),e.data(_e,t))})}.apply(this,arguments);return t},re.fn.swipe.version="1.6.18",re.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},re.fn.swipe.phases={PHASE_START:Le,PHASE_MOVE:Ae,PHASE_END:Ee,PHASE_CANCEL:Ce},re.fn.swipe.directions={LEFT:le,RIGHT:ce,UP:ue,DOWN:de,IN:fe,OUT:pe},re.fn.swipe.pageScroll={NONE:he,HORIZONTAL:xe,VERTICAL:Se,AUTO:ge},re.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:Te}},"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):"undefined"!=typeof module&&module.exports?t(require("jquery")):t(e),n=function(h){var o={escapeRegExChars:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}};function s(e,t){var n=h.noop,o=this,i={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:s.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:n,onSearchComplete:n,onSearchError:n,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return-1!==e.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(e){return"string"==typeof e?h.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};o.element=e,o.el=h(e),o.suggestions=[],o.badQueries=[],o.selectedIndex=-1,o.currentValue=o.element.value,o.intervalId=0,o.cachedResponse={},o.onChangeInterval=null,o.onChange=null,o.isLocal=!1,o.suggestionsContainer=null,o.noSuggestionsContainer=null,o.options=h.extend({},i,t),o.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},o.hint=null,o.hintValue="",o.selection=null,o.initialize(),o.setOptions(t)}s.utils=o,(h.Autocomplete=s).formatResult=function(e,t){if(!t)return e.value;var n="("+o.escapeRegExChars(t)+")";return e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},s.prototype={killerFn:null,initialize:function(){var e,t=this,n="."+t.classes.suggestion,o=t.classes.selected,i=t.options;t.element.setAttribute("autocomplete","off"),t.killerFn=function(e){h(e.target).closest("."+t.options.containerClass).length||(t.killSuggestions(),t.disableKillerFn())},t.noSuggestionsContainer=h('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),t.suggestionsContainer=s.utils.createNode(i.containerClass),(e=h(t.suggestionsContainer)).appendTo(i.appendTo),"auto"!==i.width&&e.css("width",i.width),e.on("mouseover.autocomplete",n,function(){t.activate(h(this).data("index"))}),e.on("mouseout.autocomplete",function(){t.selectedIndex=-1,e.children("."+o).removeClass(o)}),e.on("click.autocomplete",n,function(){return t.select(h(this).data("index")),!1}),t.fixPositionCapture=function(){t.visible&&t.fixPosition()},h(window).on("resize.autocomplete",t.fixPositionCapture),t.el.on("keydown.autocomplete",function(e){t.onKeyPress(e)}),t.el.on("keyup.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("blur.autocomplete",function(){t.onBlur()}),t.el.on("focus.autocomplete",function(){t.onFocus()}),t.el.on("change.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("input.autocomplete",function(e){t.onKeyUp(e)})},onFocus:function(){this.fixPosition(),this.el.val().length>=this.options.minChars&&this.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null)},setOptions:function(e){var t=this,n=t.options;h.extend(n,e),t.isLocal=h.isArray(n.lookup),t.isLocal&&(n.lookup=t.verifySuggestionsFormat(n.lookup)),n.orientation=t.validateOrientation(n.orientation,"bottom"),h(t.suggestionsContainer).css({"max-height":n.maxHeight+"px",width:n.width+"px","z-index":n.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,clearInterval(this.onChangeInterval),this.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var e=this,t=h(e.suggestionsContainer),n=t.parent().get(0);if(n===document.body||e.options.forceFixPosition){var o=e.options.orientation,i=t.outerHeight(),s=e.el.outerHeight(),a=e.el.offset(),r={top:a.top,left:a.left};if("auto"===o){var l=h(window).height(),c=h(window).scrollTop(),u=-c+a.top-i,d=c+l-(a.top+s+i);o=Math.max(u,d)===u?"top":"bottom"}if(r.top+="top"===o?-i:s,n!==document.body){var f,p=t.css("opacity");e.visible||t.css("opacity",0).show(),f=t.offsetParent().offset(),r.top-=f.top,r.left-=f.left,e.visible||t.css("opacity",p).hide()}"auto"===e.options.width&&(r.width=e.el.outerWidth()+"px"),t.css(r)}},enableKillerFn:function(){h(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){h(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.visible&&(e.options.preserveInput||e.el.val(e.currentValue),e.hide()),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this.el.val().length,n=this.element.selectionStart;return"number"==typeof n?n===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},onKeyPress:function(e){var t=this;if(t.disabled||t.visible||40!==e.which||!t.currentValue){if(!t.disabled&&t.visible){switch(e.which){case 27:t.el.val(t.currentValue),t.hide();break;case 39:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case 9:if(t.hint&&t.options.onHint)return void t.selectHint();if(-1===t.selectedIndex)return void t.hide();if(t.select(t.selectedIndex),!1===t.options.tabDisabled)return;break;case 13:if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex);break;case 38:t.moveUp();break;case 40:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else t.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case 38:case 40:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),0<t.options.deferRequestBy?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e=this,t=e.options,n=e.el.val(),o=e.getQuery(n);e.selection&&e.currentValue!==o&&(e.selection=null,(t.onInvalidateSelection||h.noop).call(e.element)),clearInterval(e.onChangeInterval),e.currentValue=n,e.selectedIndex=-1,t.triggerSelectOnValidInput&&e.isExactMatch(o)?e.select(0):o.length<t.minChars?e.hide():e.getSuggestions(o)},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(e){var t,n=this.options.delimiter;return n?(t=e.split(n),h.trim(t[t.length-1])):e},getSuggestionsLocal:function(t){var e,n=this.options,o=t.toLowerCase(),i=n.lookupFilter,s=parseInt(n.lookupLimit,10);return e={suggestions:h.grep(n.lookup,function(e){return i(e,t,o)})},s&&e.suggestions.length>s&&(e.suggestions=e.suggestions.slice(0,s)),e},getSuggestions:function(o){var e,t,n,i,s=this,a=s.options,r=a.serviceUrl;a.params[a.paramName]=o,t=a.ignoreParams?null:a.params,!1!==a.onSearchStart.call(s.element,a.params)&&(h.isFunction(a.lookup)?a.lookup(o,function(e){s.suggestions=e.suggestions,s.suggest(),a.onSearchComplete.call(s.element,o,e.suggestions)}):(e=s.isLocal?s.getSuggestionsLocal(o):(h.isFunction(r)&&(r=r.call(s.element,o)),n=r+"?"+h.param(t||{}),s.cachedResponse[n]))&&h.isArray(e.suggestions)?(s.suggestions=e.suggestions,s.suggest(),a.onSearchComplete.call(s.element,o,e.suggestions)):s.isBadQuery(o)?a.onSearchComplete.call(s.element,o,[]):(s.abortAjax(),i={url:r,data:t,type:a.type,dataType:a.dataType},h.extend(i,a.ajaxSettings),s.currentRequest=h.ajax(i).done(function(e){var t;s.currentRequest=null,t=a.transformResult(e,o),s.processResponse(t,o,n),a.onSearchComplete.call(s.element,o,t.suggestions)}).fail(function(e,t,n){a.onSearchError.call(s.element,o,e,t,n)})))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){var e=this,t=h(e.suggestionsContainer);h.isFunction(e.options.onHide)&&e.visible&&e.options.onHide.call(e.element,t),e.visible=!1,e.selectedIndex=-1,clearInterval(e.onChangeInterval),h(e.suggestionsContainer).hide(),e.signalHint(null)},suggest:function(){if(this.suggestions.length){var o,e=this,t=e.options,i=t.groupBy,s=t.formatResult,a=e.getQuery(e.currentValue),r=e.classes.suggestion,n=e.classes.selected,l=h(e.suggestionsContainer),c=h(e.noSuggestionsContainer),u=t.beforeRender,d="";t.triggerSelectOnValidInput&&e.isExactMatch(a)?e.select(0):(h.each(e.suggestions,function(e,t){var n;i&&(d+=(n=t.data[i],o===n?"":'<div class="autocomplete-group"><strong>'+(o=n)+"</strong></div>")),d+='<div class="'+r+'" data-index="'+e+'">'+s(t,a,e)+"</div>"}),this.adjustContainerWidth(),c.detach(),l.html(d),h.isFunction(u)&&u.call(e.element,l,e.suggestions),e.fixPosition(),l.show(),t.autoSelectFirst&&(e.selectedIndex=0,l.scrollTop(0),l.children("."+r).first().addClass(n)),e.visible=!0,e.findBestHint())}else this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var e=h(this.suggestionsContainer),t=h(this.noSuggestionsContainer);this.adjustContainerWidth(),t.detach(),e.empty(),e.append(t),this.fixPosition(),e.show(),this.visible=!0},adjustContainerWidth:function(){var e,t=this.options,n=h(this.suggestionsContainer);"auto"===t.width&&(e=this.el.outerWidth(),n.css("width",0<e?e:300))},findBestHint:function(){var o=this.el.val().toLowerCase(),i=null;o&&(h.each(this.suggestions,function(e,t){var n=0===t.value.toLowerCase().indexOf(o);return n&&(i=t),!n}),this.signalHint(i))},signalHint:function(e){var t="",n=this;e&&(t=n.currentValue+e.value.substr(n.currentValue.length)),n.hintValue!==t&&(n.hintValue=t,n.hint=e,(this.options.onHint||h.noop)(t))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?h.map(e,function(e){return{value:e,data:null}}):e},validateOrientation:function(e,t){return e=h.trim(e||"").toLowerCase(),-1===h.inArray(e,["auto","bottom","top"])&&(e=t),e},processResponse:function(e,t,n){var o=this,i=o.options;e.suggestions=o.verifySuggestionsFormat(e.suggestions),i.noCache||(o.cachedResponse[n]=e,i.preventBadQueries&&!e.suggestions.length&&o.badQueries.push(t)),t===o.getQuery(o.currentValue)&&(o.suggestions=e.suggestions,o.suggest())},activate:function(e){var t,n=this,o=n.classes.selected,i=h(n.suggestionsContainer),s=i.find("."+n.classes.suggestion);return i.find("."+o).removeClass(o),n.selectedIndex=e,-1!==n.selectedIndex&&s.length>n.selectedIndex?(t=s.get(n.selectedIndex),h(t).addClass(o),t):null},selectHint:function(){var e=h.inArray(this.hint,this.suggestions);this.select(e)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){var e=this;if(-1!==e.selectedIndex)return 0===e.selectedIndex?(h(e.suggestionsContainer).children().first().removeClass(e.classes.selected),e.selectedIndex=-1,e.el.val(e.currentValue),void e.findBestHint()):void e.adjustScroll(e.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(e){var t=this,n=t.activate(e);if(n){var o,i,s,a=h(n).outerHeight();o=n.offsetTop,s=(i=h(t.suggestionsContainer).scrollTop())+t.options.maxHeight-a,o<i?h(t.suggestionsContainer).scrollTop(o):s<o&&h(t.suggestionsContainer).scrollTop(o-t.options.maxHeight+a),t.options.preserveInput||t.el.val(t.getValue(t.suggestions[e].value)),t.signalHint(null)}},onSelect:function(e){var t=this,n=t.options.onSelect,o=t.suggestions[e];t.currentValue=t.getValue(o.value),t.currentValue===t.el.val()||t.options.preserveInput||t.el.val(t.currentValue),t.signalHint(null),t.suggestions=[],t.selection=o,h.isFunction(n)&&n.call(t.element,o)},getValue:function(e){var t,n,o=this.options.delimiter;return o?1===(n=(t=this.currentValue).split(o)).length?e:t.substr(0,t.length-n[n.length-1].length)+e:e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),h(window).off("resize.autocomplete",this.fixPositionCapture),h(this.suggestionsContainer).remove()}},h.fn.autocomplete=h.fn.devbridgeAutocomplete=function(n,o){var i="autocomplete";return arguments.length?this.each(function(){var e=h(this),t=e.data(i);"string"==typeof n?t&&"function"==typeof t[n]&&t[n](o):(t&&t.dispose&&t.dispose(),t=new s(this,n),e.data(i,t))}):this.first().data(i)}},"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports&&"function"==typeof require?n(require("jquery")):n(e),o=function(a){function v(e){return!e.nodeName||-1!==a.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return a.isFunction(e)||a.isPlainObject(e)?e:{top:e,left:e}}var w=a.scrollTo=function(e,t,n){return a(window).scrollTo(e,t,n)};return w.defaults={axis:"xy",duration:0,limit:!0},a.fn.scrollTo=function(e,n,g){"object"==typeof n&&(g=n,n=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=a.extend({},w.defaults,g),n=n||g.duration;var m=g.queue&&1<g.axis.length;return m&&(n/=2),g.offset=t(g.offset),g.over=t(g.over),this.each(function(){function r(e){var t=a.extend({},g,{queue:!0,duration:n,complete:e&&function(){e.call(u,f,g)}});d.animate(p,t)}if(null!==e){var l,c=v(this),u=c?this.contentWindow||window:this,d=a(u),f=e,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=t(f);break}f=c?a(f):a(f,u);case"object":if(0===f.length)return;(f.is||f.style)&&(l=(f=a(f)).offset())}var h=a.isFunction(g.offset)&&g.offset(u,f)||g.offset;a.each(g.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",o=n.toLowerCase(),i="scroll"+n,s=d[i](),a=w.max(u,t);l?(p[i]=l[o]+(c?0:s-d.offset()[o]),g.margin&&(p[i]-=parseInt(f.css("margin"+n),10)||0,p[i]-=parseInt(f.css("border"+n+"Width"),10)||0),p[i]+=h[o]||0,g.over[o]&&(p[i]+=f["x"===t?"width":"height"]()*g.over[o])):(n=f[o],p[i]=n.slice&&"%"===n.slice(-1)?parseFloat(n)/100*a:n),g.limit&&/^\d+$/.test(p[i])&&(p[i]=p[i]<=0?0:Math.min(p[i],a)),!e&&1<g.axis.length&&(s===p[i]?p={}:m&&(r(g.onAfterFirst),p={}))}),r(g.onAfter)}})},w.max=function(e,t){var n="scroll"+(o="x"===t?"Width":"Height");if(!v(e))return e[n]-a(e)[o.toLowerCase()]();var o="client"+o,i=(s=e.ownerDocument||e.document).documentElement,s=s.body;return Math.max(i[n],s[n])-Math.min(i[o],s[o])},a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={get:function(e){return a(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return a(e.elem).stop();var n=Math.round(e.now);t!==n&&(a(e.elem)[e.prop](n),e._last=this.get(e))}},w},"function"==typeof define&&define.amd?define(["jquery"],o):"undefined"!=typeof module&&module.exports?module.exports=o(require("jquery")):o(e),of.head.$doc.onScan("[data-ofac]",function(){var e=y(this),t=y.extend({},{url:null,ignoreParams:null,type:"POST",selectAction:null,groupBy:null,appendTo:null,maxHeight:300,extendsParams:{}},e.data("ofac"),!0);e.autocomplete({ignoreParams:t.ignoreParams,groupBy:t.groupBy,minChars:t.minChars,maxHeight:t.maxHeight,appendTo:t.appendTo||y("body"),transformResult:function(e){return{suggestions:y.map(JSON.parse(e).localisations,of.head.accore.resultMap)}},serviceUrl:function(e){return t.url+e},onSelect:function(e){"function"==typeof window[t.selectAction]?window[t.selectAction].call(this,e):of.head.accore.selectAction(e)}}),y(e.prop("form")).submit(function(){of.head.accore.submitAction(e)})}),of.head.$doc.onScan("[data-ofos]",function(){var e;y(this).addClass((e=navigator.userAgent||navigator.vendor||window.opera,/windows phone/i.test(e)?"windows-phone":/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":"")).addClass("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touch":"not-touch")}),function(s){function n(n,o){var e=y(o=o||this),t=y(o).data(s);function i(){(Array.isArray(t)?t:[t]).forEach(function(e){var t=y.extend({},{sel:o,parent:null,klass:"",delais:0,force:null},e,!0);n.type&&("mouseover"==n.type||"focusin"==n.type?t.force=e.force!=Me?e.force:e.inverted?0:1:"mouseout"!=n.type&&"focusout"!=n.type||(t.force=e.force!=Me?e.force:e.inverted?1:0)),(t.parent?y(o).parents(t.parent):y(t.sel)).toggleClass(t.klass,null===t.force?null:!!t.force),of.head.removeAction("ofscrollto-end-scroll",i)})}e.is("[data-ofscrollto]")?(y.extend(!0,{},{duration:0},e.data("ofscrollto")),of.head.addAction("ofscrollto-end-scroll",i)):i()}of.head.$doc.on("click."+s,"[data-"+s+"]:not(.of-on-over, .of-on-focus, .of-on-scan)",n).on("mouseover."+s+" mouseout."+s,".of-on-over:not(.of-delay)[data-"+s+"]",n).on("focusin."+s+" focusout."+s,".of-on-focus[data-"+s+"]",function(e){""==y(this).val()&&n(e,this)}).onScan(".of-on-scan[data-"+s+"]",n),of.head.$doc.onScan(".of-on-focus[data-"+s+"]",function(e){""!=y(this).val()&&n(e,this)});var o=null,i=null,a=!1,r=!1,l=!1;of.head.$doc.onScan(".of-on-over.of-delay[data-"+s+"]",function(){var t=this;y(this).on("mouseover."+s,function(e){r!=t?(a=t,o&&clearTimeout(o),o=setTimeout(function(){a==t&&0!=a&&(a=!1,n({type:"mouseover"},t),l=!0)},1==l?25:400)):i&&(clearTimeout(i),i=!1)}).on("mouseout."+s,function(){a=!1,0!=l&&(r=t,i=setTimeout(function(){r=!1,n({type:"mouseout"},t),l=!1},25))})})}("oftoggleclass"),s="ofonglet",of.head.$doc.on("click."+s,"[data-"+s+"]",function(){var e=y(this),t=y.extend({},{cont:null,klass:s+"-on",ong:null,closer:!1},e.data(s),!0),n=y(t.cont+"[data-"+s+"]"),o=y(t.cont).not("[data-"+s+"]"),i=o.filter(t.ong).hasClass(t.klass);n.removeClass(t.klass),o.removeClass(t.klass).filter(t.ong).add(e).toggleClass(t.klass,(!t.closer||!i)&&null)}),x="ofsticky-inside",window.MSInputMethodContext&&document.documentMode&&of.head.$doc.onScan("[data-"+x+"]",function(){var l=y(this),e=l.data(x),c=e.klass||x,t=e.noTablette||!0,u=e.klass||x+"-end",d=e.delta||0,n=e.deltaSel||null,f=e.viewPortDelta||0,p=e.cont&&y("opt.cont")||l.parent(),o=p.children(),h=y(o[o.index(l)-1||0]),g=document.documentElement,m=0,v=0,w=0;if(!t||!y("body").hasClass("ios")&&!y("body").hasClass("android")||!y("body").hasClass("touch")){if(n&&y(n).length)var b=y(n);y("body").on("touchmove",i),y(window).scroll(i).scroll()}function i(e){if((g.clientHeight||0)-f<=l.height())l.hasClass(c)&&(l.removeClass(c+" "+u),l.css("top",v));else{b&&(w=0,b.each(function(){w+=b.height()}));var t=(window.pageYOffset||g.scrollTop)+d+w,n=(window.pageYOffset||g.scrollTop,g.clientHeight,l.offset().top),o=l.offset().top+l.height(),i=p.offset().top+p.height(),s=h&&h.length?h.offset().top+h.outerHeight():0,a=l.hasClass(c),r=l.hasClass(u);m&&m<s&&(m=s),!a&&n<t&&o<i&&(m=l.offset().top,v=l.css("top"),l.css("width",l.width()),l.css("top",d+w),l.addClass(c),o=l.offset().top+l.height(),a=!0),a&&!r&&i<=o&&(l.addClass(u),l.css("top","auto"),r=!0),a&&r&&t<l.offset().top&&(l.removeClass(u),l.css("top",d+w),r=!1),a&&!r&&t<=m&&(l.removeClass(c),a=!1,l.css("top",v))}}}),r="ofwidth",of.head.$doc.onScan("[data-"+r+"]",function(){var o=y(this),i=this,s=0,a=y.extend(!0,{},{mobileOnly:!0,touchOnly:!1,offset:0},o.data(r)||{});a.mobileOnly&&768<=document.documentElement.clientWidth||a.touchOnly&&!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||(o.data("observer",new IntersectionObserver(function(e){y.each(e,function(e,t){var n=t.intersectionRect;0<n.height*n.width&&(o.data("observer").unobserve(i),s=0,o.find(a.sel).each(function(){s+=y(this).outerWidth(!0)}),o.width(Math.floor(s)+1))})},{rootMargin:a.offset+"px",root:null})),o.data("observer").observe(this))}),i="ofmaxheight",y(function(){function e(){y("[data-"+i+"]").each(function(){var e=y(this);y.extend(!0,{},{},e.data(i)||{}),e.css("height",document.documentElement.clientHeight-250)})}e(),y(window).resize(e).resize()}),a="ofvwidth",y(function(){function e(){y("[data-"+a+"]").each(function(){var e=y(this),t=y.extend(!0,{},{mobileOnly:!0,touchOnly:!1},e.data(a)||{});e.css("width",t.mobileOnly&&!t.touchOnly&&768<=document.documentElement.clientWidth||t.touchOnly&&!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)?"":document.documentElement.clientWidth)})}e(),y(window).resize(e).resize()}),l="ofscrollclass",of.head.$doc.onScan("[data-"+l+"]",function(){var a=this,e=y(this).data(l);document.documentElement,Array.isArray(e)||(e=[e]),e.forEach(function(e,t,n){var o=y.extend({},{sel:a,y:100,removeonly:!1,inverted:!1,bottom:!1,scrollEl:null,scrollElBottom:null,klass:"noscroll",delta:0,what:null},e,!0),i=y(o.sel),s=y(o.what||window);s.scroll(function(e){var t=s.scrollTop(),n=i.hasClass(o.klass);o.bottom&&(t+=s.height()),o.scrollEl&&y(o.scrollEl).length&&y(o.scrollEl).is(":hidden")||((n&&!o.inverted||!n&&o.inverted)&&o.scrollEl&&y(o.scrollEl).length&&(o.y=y(o.scrollEl).offset().top),(n&&!o.inverted||!n&&o.inverted)&&o.scrollElBottom&&y(o.scrollElBottom).length&&(o.y=y(o.scrollElBottom).offset().top+y(o.scrollElBottom).outerHeight()),o.deltaSel&&(o.delta=0,o.deltaSel.forEach(function(e){o.delta+=y(e).outerHeight()})),o.deltaSelInverted&&(o.delta=-o.delta),t=o.inverted?t<parseFloat(o.y)+parseFloat(o.delta):t>parseFloat(o.y)+parseFloat(o.delta),n&&t?i.removeClass(o.klass):n||t||o.removeonly||i.addClass(o.klass))}).scroll()})}),c="ofscrollto",of.head.$doc.on("click."+c,"[data-"+c+"]",function(){var e=y(this),t=y.extend(!0,{},{duration:0,fromtop:!0},e.data(c)||{}),n=y(t.to),o=0;if(t.fromtop||0!=y(window).scrollTop())if(n.length){t.delta&&t.delta.val?o-=parseFloat(t.delta.val):t.delta&&t.delta.sel&&y(t.delta.sel).each(function(){o-=y(this).height()});var i=y.extend(!0,{},{axis:"y",offset:o,onAfter:function(){of.head.doAction(c+"-end-scroll")}},t.scrollto_opt);setTimeout(function(){n.length&&y(t.what||window).scrollTo(y(t.to),t.duration,i)},t.timeout?t.timeout:0)}else of.head.doAction(c+"-end-scroll");else of.head.doAction(c+"-end-scroll")}),g="ofswipe",of.head.$doc.onScan("[data-"+g+"]",function(){function e(){c=[];var t=0,n=0,o=0,i=0;r.masque&&(d=0,t=y(r.masque).outerWidth(!0)),l.each(function(){var e=y(this).outerWidth(!0);r.masque?t<=o+e&&(c[n]=i,i+=o,o=0,n++):(c[n]=i,i+=e,n++),o+=e}),r.masque&&(c[n]=i,d=n+1),r.defile&&!s&&(s=setInterval(function(){a||p()},r.defile),y("[data-"+r.swipenext+"], [data-"+r.swipeprev+"], "+r.sel).hover(function(){a=!0},function(){a=!1}))}var s,a,o=y(this),r=y.extend(!0,{},{rambo:0,sel:null,inactif:"inactif",swipeActif:!0,swipeprev:g+"prev",swipenext:g+"next",mobileOnly:!1,navSel:null,defile:0,masque:null,speed:500,swipe:{threshold:50,allowPageScroll:"vertical",triggerOnTouchEnd:!0}},o.data(g)||{}),l=y(r.sel,o),i=y(r.navSel),c=[],u=r.start_at||0,d=l.length;function f(){0<u?u--:2==r.rambo&&(u=d-1),h(c[u],r.speed)}function p(){u<d-1?u++:r.rambo&&(u=0),h(c[u],r.speed)}function h(e,t){o.css("transition-duration",(t/1e3).toFixed(1)+"s");var n=(e<0?"":"-")+Math.abs(e).toString();o.css("transform","translate("+n+"px,0)"),l.removeClass("active"),y(l[u]).addClass("active").trigger(g),i.removeClass("active"),y(i[u]).addClass("active"),y("[data-"+r.swipenext+"],[data-"+r.swipeprev+"]").removeClass(r.inactif),u<=0&&2!=r.rambo?y("[data-"+r.swipeprev+"]").addClass(r.inactif):d-1<=u&&!r.rambo&&y("[data-"+r.swipenext+"]").addClass(r.inactif),of.head.doAction(g+"Swipe",u)}function t(e,t,n,o){"move"!==t||"left"!==n&&"right"!==n&&"up"!==n&&"down"!==n?"cancel"===t?h(c[u],r.speed):"end"===t&&("right"===n?f():"left"===n&&p()):"left"===n?h(c[u]+o,0):"right"===n?h(c[u]-o,0):null!=r.swipeToClose&&y(r.swipeToClose).trigger("click.oftoggleclass")}r.mobileOnly&&980<=document.documentElement.clientWidth||(e(),y("[data-"+r.swipenext+"]").click(function(){p()}),y("[data-"+r.swipeprev+"]").click(function(){f()}),y(window).bind("resize",function(){setTimeout(function(){e(),t(0,"cancel",null,null),h(c[u],r.speed)},250)}),i.click(function(){u=i.index(y(this)),h(c[u],r.speed)}),r.swipeActif&&l.swipe({triggerOnTouchEnd:r.swipe.triggerOnTouchEnd,allowPageScroll:r.swipe.allowPageScroll,threshold:r.swipe.threshold,swipeStatus:t}))}),u="oflazyload",of.head.$doc.onScan("[data-"+u+"]",function(){if("bind"in Function.prototype){var i=y(this),s=this,a=y.extend({offset:0},i.data(u)||{});i.data("observer",new IntersectionObserver(function(e){y.each(e,function(e,t){if(t.isIntersecting){if(s.addEventListener("load",function(){i.data("observer").unobserve(s)}),s.addEventListener("error",function(){s.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhJREFUeNpi/P//PwMlgHHUgFEDgAAgwAD+lBrvy+NcxAAAAABJRU5ErkJggg==",i.data("observer").unobserve(s),i.removeAttr("data-"+u).removeData(u)}),a.srcset){var n=a.srcset.split(","),o=[];if(!n.length)return;for(e=0;e<n.length&&(o=n[e].trim().split(" "),!(parseInt(o[1].substring(0,o[1].length-1))>=i.width()));e++);a.src=o[0]}i.is("img")?s.src=a.src:i.css("background-image","url('"+a.src+"')"),i.removeAttr("data-"+u).removeData(u).addClass("loaded")}})},{rootMargin:a.offset+"px",root:null})),i.data("observer").observe(this)}}),of.head.asyncLoadOf()}var x},25)}();var alrdyIncr=!1,ofResizeMsg=function(e){try{var t=e.data;if("function"==typeof t.indexOf&&-1<t.indexOf("OFResize::")){var n=new RegExp("[|]+","g"),o=t.split(n);if(2<=o.length){var i=document.getElementsByTagName("iframe"),s=i.length;if(-1!==o[0].indexOf("=")&&-1!==o[1].indexOf("=")){var a=o[0].substring(o[0].indexOf("=")+1),r=o[1].substring(o[1].indexOf("=")+1);if("string"==typeof o[2]&&-1!==o[2].indexOf("id="))var l=o[2].substring(o[2].indexOf("=")+1);if(-1!==a.indexOf("maville.com"))document.getElementById("mavilledeals").height=r+"px";else if(-1!==a.indexOf("snt-voile"))document.getElementById("iframe_spi").height=r+"px";else if(-1!==a.indexOf("interflora"))document.getElementById("iframe_interflora").height=r-5+"px";else if(void 0!==l){var c=document.getElementById(l);null!==c&&(c.style.height=r+"px")}else for(var u=0;u<s;u++)if(i[u].hasAttribute("src")&&resizeLocal_filter_protocol(i[u].getAttribute("src"))===resizeLocal_filter_protocol(a)){-1!==a.indexOf("publiprecom")&&!0===jQuery.browser.mozilla&&!1===alrdyIncr&&(r++,alrdyIncr=!0),i[u].style.height=r+"px";break}}}}else if(-1<t.indexOf("iFrameSora_")){var d=t.split("=");document.getElementById(d[0]).style.height=d[1]+"px"}else-1<t.indexOf("iFrameTurf_")&&(d=t.split("height="),document.getElementById("paristurf-iframe").style.height=d[1]+"px")}catch(e){}};function resizeLocal_filter_protocol(e){return(e=(e=e.replace("http:","")).replace("https:","")).replace("//","")}try{window.addEventListener?window.addEventListener("message",ofResizeMsg,!1):window.attachEvent&&window.attachEvent("onmessage",ofResizeMsg)}catch(e){}!function(t,n){var o=window.srcDoc;"function"==typeof define&&define.amd?define(["exports"],function(e){n(e,o),t.srcDoc=e}):"object"==typeof exports?n(exports,o):(t.srcDoc={},n(t.srcDoc,o))}(this,function(e,t){function i(e,t){var n=e.getAttribute("sandbox");"string"!=typeof n||l.test(n)||(t&&t.force?e.removeAttribute("sandbox"):t&&!1===t.force||(s(r),e.setAttribute("data-srcdoc-polyfill",r)))}var n,o,s,a=!!("srcdoc"in document.createElement("iframe")),r="Polyfill may not function in the presence of the `sandbox` attribute. Consider using the `force` option.",l=/\ballow-same-origin\b/,c=e;if(s=window.console&&window.console.error?function(e){window.console.error("[srcdoc-polyfill] "+e)}:function(){},c.set=function(e,t,n){t&&(i(e,n),e.setAttribute("srcdoc",t))},c.noConflict=function(){return window.srcDoc=t,c},!a)for(c.set=function(e,t,n){var o;e&&e.getAttribute&&(t?e.setAttribute("srcdoc",t):t=e.getAttribute("srcdoc"),t&&(i(e,n),o="javascript: window.frameElement.getAttribute('srcdoc');",e.contentWindow&&(e.contentWindow.location=o),e.setAttribute("src",o)))},n=(o=document.getElementsByTagName("iframe")).length;n--;)c.set(o[n])}),function(){var e=setInterval(function(){if(void 0!==window.of){clearTimeout(e);var s=window.of.$;s(document).on("submit","form.form-newsletter",function(e){function t(e){o.find(".tooltip-parent").addClass("tooltip-actif").find(".tooltip p").html(e),o.find('input[name="mail"], input[name="email"]').on("focus",function(){s(this).removeClass("input-error"),o.find(".tooltip-parent").removeClass("tooltip-actif")}).addClass("input-error")}e.preventDefault();var o=s(this),n=o.find(".spinner, .su-button.su-primary");if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o.find('input[name="mail"], input[name="email"]').val())){n.toggleClass("su-hidden");var i=-1!==window.location.hostname.indexOf("qual")||-1!==window.location.hostname.indexOf("secured")?"qual.ouest-france.fr":"www.ouest-france.fr";of.$.post("https://"+i+"/of_mon_compte/service_pre_subscription",of.$(this).serialize().replace("email=","mail=").replace("serviceId=","service_id=")).done(function(e){of.$("#newsletter-registration-result .popin-content").html(e.content).find("img").remove(),of.$("#newsletter-registration-result .fade").trigger("click.oftoggleclass");var t="La matinale";o.attr("data-trknewsletter")&&(t=o.attr("data-trknewsletter"));var n="Bloc homepage refonte";o.attr("data-trkblocknewsletter")&&(n=o.attr("data-trkblocknewsletter")),"function"==typeof window.VP_NL_complete&&VP_NL_complete(),dataLayer.push({event:"newsletterOptinSimple",blocNewsletter:n,typeNewsletter:t,utilisateurIdentifie:"non"})}).fail(function(e){t((e.responseText?of.$.parseJSON(e.responseText):{message:"Nous sommes désolés, cette fonctionnalité est actuellement indisponible."}).message)}).always(function(){n.toggleClass("su-hidden")})}else t("Le format de l'email est invalide.")}),of.head.$doc.on("click","[data-ofcrtoken]",function(e){e.preventDefault();var n,o=s(this).attr("href");s.ajax({type:"POST",url:"/rpc/context-plugins/sic2a",data:JSON.stringify({jsonrpc:"2.0",method:"createCRToken",params:[],id:(n=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)}))}),accepts:{vndOfCms:"application/vnd.of.cms.v1+json"},contentType:"application/json",dataType:"json"}).done(function(e){if("string"==typeof e.result){var t=e.result;-1!=o.indexOf("crtoken")?o=o.replace("crtoken",t):(o+=-1===o.indexOf("?")?"?":"&",o+="token="+t)}}).always(function(e){window.location.href=o})}),".iframe-srcdoc","250",s(function(){var o=new IntersectionObserver(function(e){e.forEach(function(e){if(!(e.intersectionRatio<=0)){var t=document.createElement("iframe"),n=e.target.firstElementChild;t.setAttribute("srcdoc",n.text.replace("&lt;","<")),t.setAttribute("style","height: 1px;"),t.setAttribute("scrolling","no"),t.addEventListener("refreshheight",function(){t.contentWindow.document.body&&t.contentWindow.document.body.offsetHeight&&(t.style.height=t.contentWindow.document.body.offsetHeight+"px")}),setInterval(function(){if("function"==typeof Event)var e=new Event("refreshheight");else(e=document.createEvent("Event")).initEvent("refreshheight",!0,!0);t.dispatchEvent(e)},500),e.target.insertBefore(t,n),srcDoc.set(t),o.unobserve(e.target)}})},{rootMargin:"250px 0px 250px 0px"});document.querySelectorAll(".iframe-srcdoc").forEach(function(e){o.observe(e)})}),"[data-ofiframe-src]","250",s(function(){var n=new IntersectionObserver(function(e){e.forEach(function(e){if(!(e.intersectionRatio<=0)){var t=e.target.getAttribute("data-ofiframe-src");e.target.setAttribute("src",t),n.unobserve(e.target)}})},{rootMargin:"250px 0px 250px 0px"});document.querySelectorAll("[data-ofiframe-src]").forEach(function(e){n.observe(e)})}),window.thirdparty=window.thirdparty||[],window.thirdparty.push({fn:function(){var e=document.createElement("div");if(e.innerHTML="&nbsp;",e.className="ads-box text-ads pub text-ad",document.body.appendChild(e),0===e.offsetHeight){var t=document.createElement("img"),n="https://google-analytics.com/collect?v=1&t=event&ec=Technique&ea=Adblock&el="+encodeURIComponent(document.location.href)+"&tid=UA-57666616-7&cid="+Math.random();t.setAttribute("src",n),t.setAttribute("style","visibility: hidden; display: none;"),document.body.appendChild(t),dataLayer.push({event:"blockerDetected"})}document.body.removeChild(e)},family:"analytics",name:"detect-adblock"})}},25)}(),window.addEventListener("message",function(e){if("function"==typeof e.data.indexOf&&-1<e.data.indexOf("collapse-revive:")){var t=e.data.split("collapse-revive:");1<t.length&&document.querySelectorAll(t[1]).forEach(function(e){e.parentElement.style.cssText+=";display:none !important"})}}),function(s,a){s[a]=s[a]||[],s.__cmp&&__cmp("getUserConsent",{},function(e){e.consent;for(var t=function(n){function t(e){n.fn&&n.fn(e)}function o(e,t){s[a+"_debug"]&&console.log("%ccmsfetch","color: #004864; font-weight: bold; background-color: white;padding: 2px",e,t),n.err&&n.err(e,t)}if(s[a+"_debug"]&&console.log("%ccmsfetch","color: #004864; font-weight: bold; background-color: white;padding: 2px",n),n.params=n.params||{},self.fetch)n.params.headers=new Headers(n.params.headers||{}),fetch(n.url,n.params).then(function(e){e.ok?e.text().then(function(e){t(e)}):o("error response",e)}).catch(function(e){o("unknown error",e)});else{var i=new XMLHttpRequest;i.onload=function(){t("response"in i?i.response:i.responseText)},i.onerror=i.ontimeout=i.onabort=function(){o(new TypeError("Network request failed"))},i.open(n.params.method,n.url,!0),Object.keys(n.params.headers||{}).forEach(function(e){i.setRequestHeader(e,n.params.headers[e])}),i.send(n.params.body)}};s[a].length;)t(s[a].shift());s[a].push=function(e){t(e)}})}(window,"cmsfetch"),function(a,i){document.addEventListener("click",function(e){var o=e.target.closest('[data-oftoggleclass*="menu-burger-ouvert"]'),s=document.querySelector("[data-"+a+"]");if(o&&s&&!s.classList.contains("loading")){var t=JSON.parse(s.getAttribute("data-"+a)||"{}");if(t.url){var n={id:"platform/burger/get",jsonrpc:"2.0",method:"getBurgerFull",params:{}};t.urls_sic&&(n.params.urls_sic=t.urls_sic),t.route_of&&(n.params.route_of=t.route_of),t.route_vv&&(n.params.route_vv=t.route_vv),t.route_jeux&&(n.params.route_jeux=t.route_jeux),t.is_connected&&(n.params.is_connected=t.is_connected),s.classList.add("loading"),i.cmsfetch.push({url:t.url,params:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},fn:function(e){if(s.classList.remove("loading"),(e=JSON.parse(e))&&e.result&&e.result.html){var t=s.parentElement,n="";s.classList.forEach(function(e){n+="."+e}),s.outerHTML=e.result.html,of.$(t).find(n).ofScan(),o.getAttribute("data-ofonglet")&&of.$(o).trigger("click.ofonglet")}},err:function(e,t){var n,o,i;n="something went wrong",o=e,i=t,console.log("%c"+a,"color: #004864; font-weight: bold; background-color: white;padding: 2px",n,o||{},i||{}),s.classList.remove("loading")}})}}})}("rpc-header",window),function(d){document.querySelectorAll("[data-"+d+"]").forEach(function(e){e.addEventListener("submit",function(e){function a(e,t){var n="Une erreur est survenue";s.innerText=t?400==t.status?"Mail invalide":500==t.status?"Inscription impossible":n:n,i.classList.add("tooltip-actif"),o.classList.add("input-error"),o.addEventListener("focus",function(){this.classList.remove("input-error"),i.classList.remove("tooltip-actif")}),l.classList.toggle("su-hidden"),c.classList.toggle("su-hidden")}e.preventDefault();var r=this,o=this.querySelector('input[name="email"]'),t=this.querySelector('input[name="service_id"]').value,l=document.querySelector(".spinner"),c=document.querySelector(".su-button.su-primary"),i=this.querySelector(".tooltip-parent"),s=this.querySelector(".tooltip-parent p"),u=-1!==window.location.hostname.indexOf("qual.ouest-france.fr")||-1!==window.location.hostname.indexOf("qualvoilesetvoiliers.ouest-france.fr")||-1!==window.location.hostname.indexOf("secured")?"qual.ouest-france.fr":"www.ouest-france.fr";l.classList.toggle("su-hidden"),c.classList.toggle("su-hidden");var n="";r.getAttribute("data-code-operation")&&(n="/"+r.getAttribute("data-code-operation")),cmsfetch.push({url:"https://"+u+"/newsletters/ws/subscribe/"+o.value+"/"+t+n,params:{method:"POST"},fn:function(e){var t=JSON.parse(e);if(!t)return a();l.classList.toggle("su-hidden"),c.classList.toggle("su-hidden");var n=r.getAttribute("data-"+d),o=document.querySelector("#newsletter-registration-result");if(o.querySelector(".popin-content").innerHTML='<div class="su-container"><p class="su-h2 su-margin-bottom-s">Newsletter '+(n||"")+'</p><p class="su-margin-bottom-l">'+(t.subscribe?"Votre inscription a bien été prise en compte.":"Cette adresse e-mail est déjà inscrite.")+'</p><p class="su-margin-bottom-s"><strong>Le saviez-vous ?</strong></p><p class="su-margin-bottom-s">La rédaction vous propose plus de 50 newsletters : par ville, par sport, pour sortir... <a class="su-link" href="https://'+u+'/newsletters?int_medium=lien&int_content=lien-popin-validation-nl&int_campaign=newsletters">Cliquez ici</a> pour les découvrir.</p></div>',document.body.classList.add("popin-active"),o.classList.remove("su-hidden"),t.subscribe){var i="La matinale";r.getAttribute("data-trknewsletter")&&(i=r.getAttribute("data-trknewsletter"));var s="Bloc homepage refonte";r.getAttribute("data-trkblocknewsletter")&&(s=r.getAttribute("data-trkblocknewsletter")),"function"==typeof window.VP_NL_complete&&VP_NL_complete(),dataLayer.push({event:"newsletterOptinSimple",blocNewsletter:s,typeNewsletter:i,utilisateurIdentifie:"non"})}},err:a})})})}("bpnewsletter"),document.querySelectorAll("[data-reloadmasonry]").forEach(function(t){t.addEventListener("click",function(){var e=new Masonry(t.getAttribute("data-reloadmasonry"));setTimeout(function(){e._init()},150)})}),function(n,w){function b(e){w[n+"_debug"]&&_log("error",e);var t=document.createElement("div");t.innerHTML='<div id="'+n+'-error" class="popin popin-large"><div class="fade" data-oftoggleclass=\'[{"sel":"body","klass":"popin-active"}, {"sel":"#'+n+'-error","klass":"hidden"}]\'></div><div class="wrapper-popin"><span class="icon icon-fermer" data-oftoggleclass=\'[{"sel":"body","klass":"popin-active"}, {"sel":"#'+n+'-error","klass":"hidden"}]\'></span><div class="popin-content col-xs-20 col-xs-offset-1 col-md-12 col-md-offset-6 col-lg-10 col-lg-offset-7"><p>'+y+"</p></div></div></div>",document.body.appendChild(t),document.body.classList.add("popin-active"),t.querySelector("[data-oftoggleclass]").addEventListener("click",function(e){document.body.removeChild(t)})}var y="Nous sommes désolés, cette fonctionnalité est actuellement indisponible.";!function(a){function r(e,t,n){e&&console.log("%c"+a,"color: #004864; font-weight: bold; background-color: white;padding: 2px",e,t||{},n||{})}function o(){w[a+"_debug"]&&r("disable"),w.sessionStorage.setItem(a,JSON.stringify([])),document.querySelectorAll("[data-"+a+"-urlrpc] .icon-signet, [data-"+a+"-urlrpc] .icon-signet-actif, [data-"+a+"-remove-all]").forEach(function(e){e.classList.add("disabled"),e.setAttribute("title",(e.getAttribute("title")?e.getAttribute("title")+" - ":"Lire plus tard - ")+"fonctionnalité actuellement indisponible")})}w[a+"_debug"]=-1!==w.location.href.indexOf(a+"_debug=true");var l="icon-signet",c=l+"-actif",i=JSON.parse(w.sessionStorage.getItem(a)||"[]");function s(){document.querySelectorAll("[data-"+a+"-id]."+c).forEach(function(e){e.classList.remove(c),e.classList.add(l)}),i.forEach(function(e){document.querySelectorAll("[data-"+a+'-id="'+e.id+'"]').forEach(function(e){e.classList.remove(l),e.classList.add(c)})})}document.addEventListener("click",function(e){var n=e.target.closest("[data-"+a+"-id]");if(n&&!n.classList.contains("loading")&&!n.classList.contains("disabled")){var o=n.classList.contains(c)||n.classList.contains("icon-corbeille"),i=n.getAttribute("data-"+a+"-id"),t=n.closest("[data-"+a+"-urlrpc]").getAttribute("data-"+a+"-urlrpc");if(t&&""!=t){var s={id:o?"bp-edito/readlater/remove":"bp-edito/readlater/add",jsonrpc:"2.0",method:o?"removeArticleToReadLater":"addArticleToReadLater",params:{articleId:i}};n.classList.add("loading"),w.cmsfetch.push({url:t,params:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},fn:function(e){if(w[a+"_debug"]&&r("succes",e),JSON.parse(e).error){n.classList.remove("loading");var t=JSON.parse(e).error.code;401==Math.abs(t)?w.location="?login":b(e)}else n.classList.remove("loading",o?c:l),n.classList.add(o?l:c),o?of.head.doAction(a+"removeFromList",i):of.head.doAction(a+"addToList",{id:i,title:n.getAttribute("data-"+a+"-title"),url:n.getAttribute("data-"+a+"-url")})},err:function(e,t){w[a+"_debug"]&&r("something went wrong",e,t),n.classList.remove("loading"),b(t)}})}else w.location="?login"}});var u=function(){s()},d=function(){},f=document.querySelector("[data-"+a+"-list]");if(f){var e=f.closest("[data-"+a+"-urlrpc]"),t=e.getAttribute("data-"+a+"-urlrpc"),n=document.querySelectorAll("[data-"+a+"-notif]"),p=e.querySelector("[data-"+a+"-list]"),h=e.querySelector("[data-"+a+"-pagination]"),g=e.querySelector("[data-"+a+"-prompt-remove-all]");document.body.appendChild(document.querySelector("#"+g.getAttribute("data-"+a+"-prompt-remove-all")));var m=function(){n.forEach(function(e){var t=e.parentElement,n=i.length;n?(t.classList.remove(l),t.classList.add(c),e.classList.remove("hidden"),e.innerHTML=99<n?99:n):(e.classList.add("hidden"),t.classList.remove(c),t.classList.add(l))})};u=function(){s();var e=i.length;if(e){g.classList.remove("hidden"),p.innerHTML="";var n=1;i.forEach(function(e){var t=Math.ceil(n++/5);p.innerHTML+='<li class="page-'+t+" pagination-item "+(1==t?"active":"")+'"><a href="'+e.url+'">'+e.title+"</a><span data-"+a+'-id="'+e.id+'" class="icon-corbeille"></span></li>'});var t=Math.ceil(e/5);if(h.innerHTML="",1<t)for(h.classList.remove("hidden"),n=1;n<=t;n++)h.innerHTML+='<li class="page-'+n+" pagination-item "+(1==n?"active":"")+"\" data-ofonglet='"+JSON.stringify({cont:".articles-liste-readlater .pagination-item",ong:".page-"+n,klass:"active"})+'\'><a href="javascript:;" title="Page '+n+'">'+n+"</a></li>";else h.classList.add("hidden");m()}else d("Aucun article sauvegardé")},d=function(e){g.classList.add("hidden"),h.classList.add("hidden"),m(),h.innerHTML="",p.innerHTML='<li class="active">'+e+"</li>"},u(),of.head.addAction(a+"removeFromList",function(t){i=i.filter(function(e){return e.id!=t}),w.sessionStorage.setItem(a,JSON.stringify(i)),u(),document.querySelectorAll("[data-"+a+'-id="'+t+'"]').forEach(function(e){e.classList.remove(c),e.classList.add(l)})}),of.head.addAction(a+"addToList",function(e){i.push(e),w.sessionStorage.setItem(a,JSON.stringify(i)),u(),document.querySelectorAll("[data-"+a+'-id="'+e.id+'"]:not(.icon-corbeille)').forEach(function(e){e.classList.remove(l),e.classList.add(c)})}),document.addEventListener("click",function(e){var n=e.target.closest("[data-"+a+"-remove-all]");!n||n.classList.contains("loading")||n.classList.contains("disabled")||(n.classList.add("loading"),w.cmsfetch.push({url:t,params:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"bp-edito/readlater/removeAll",jsonrpc:"2.0",method:"removeAllArticlesToReadLater",params:{}})},fn:function(e){if(w[a+"_debug"]&&r("succes",e),n.classList.remove("loading"),JSON.parse(e).error){var t=JSON.parse(e).error.code;401==Math.abs(t)?w.location="?login":b(e)}else i=[],w.sessionStorage.setItem(a,JSON.stringify(i)),document.querySelectorAll("[data-"+a+"-id]").forEach(function(e){e.classList.remove(c),e.classList.add(l)}),d("Aucun article sauvegardé")},err:function(e,t){w[a+"_debug"]&&r("something went wrong",e,t),n.classList.remove("loading"),b(t)}}))})}var v=document.querySelector("[data-"+a+"-urlrpc]");t=v?v.getAttribute("data-"+a+"-urlrpc"):null,v&&t&&""!=t&&(f&&f.classList.add("loading"),w.cmsfetch.push({url:t,params:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"bp-edito/readlater/getAll",jsonrpc:"2.0",method:"getArticlesToReadLater",params:{}})},fn:function(e){if(w[a+"_debug"]&&r("succes",e),f&&f.classList.remove("loading"),JSON.parse(e).error){var t=JSON.parse(e).error.code;401==Math.abs(t)||(d(y),o())}else{var n=JSON.parse(e).result;void 0!==n&&(i=n,w.sessionStorage.setItem(a,JSON.stringify(i)),u())}},err:function(e,t){w[a+"_debug"]&&r("something went wrong",e,t),f&&f.classList.remove("loading"),d(y),o()}}))}("ofreadlater"),function(r){function l(e,t,n){e&&console.log("%c"+r,"color: #004864; font-weight: bold; background-color: white;padding: 2px",e,t||{},n||{})}function c(t){w[r+"_debug"]&&l("disable"),t=""!=t?t:"fonctionnalité actuellement indisponible",document.querySelectorAll("[data-"+r+"-id]").forEach(function(e){e.classList.add("disabled"),e.setAttribute("title",(e.getAttribute("title")?e.getAttribute("title")+" - ":"Communes de préférence - ")+t)})}w[r+"_debug"]=-1!==w.location.href.indexOf(r+"_debug=true");var u="commune-selected";document.addEventListener("click",function(e){var o=e.target.closest("[data-"+r+"-id]");if(o&&!o.classList.contains("loading")&&!o.classList.contains("disabled")){var i=o.closest("[data-"+r+"-urlrpc]"),s=i.classList.contains(u),t={id:s?"bp-userpref/communes/remove":"bp-userpref/communes/add",jsonrpc:"2.0",method:s?"removeCommuneDePreference":"addCommuneDePreference",params:{communeId:o.getAttribute("data-"+r+"-id")}},a=function(e){var t=document.createElement("div");t.innerHTML='<div class="tooltiptext-temp" data-oftoggleclass=\'[{"parent":".tooltip-parent","klass":"tooltip-actif"}]\'><p>'+e+"</p></div>",i.appendChild(t);var n=t.querySelector(".tooltiptext-temp").getBoundingClientRect();document.documentElement.clientWidth<n.left+n.width&&t.classList.add("tooltip-right"),t.addEventListener("click",function(){i.removeChild(t)}),setTimeout(function(){i.removeChild(t)},8e3)};o.classList.add("loading"),w.cmsfetch.push({url:i.getAttribute("data-"+r+"-urlrpc"),params:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fn:function(e){if(w[r+"_debug"]&&l("succes",e),o.classList.remove("loading"),JSON.parse(e).error)if(401==Math.abs(JSON.parse(e).error.code))w.location="?login";else if(413==Math.abs(JSON.parse(e).error.code)){var t="Limite de 10 communes préférées atteinte.";c(t),a(t)}else b(e),c();else{var n='Cette commune a été ajoutée à "Mes communes".';s?(i.classList.remove(u),n='Cette commune a été supprimée de "Mes communes".'):i.classList.add(u),a(n)}},err:function(e,t){w[r+"_debug"]&&l("something went wrong",e,t),o.classList.remove("loading"),b(t)}})}})}("ofcommunes")}("ofpremium",window);